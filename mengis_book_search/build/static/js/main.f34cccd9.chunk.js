(this.webpackJsonpmengis_book_search=this.webpackJsonpmengis_book_search||[]).push([[0],{41:function(e,t,n){e.exports=n.p+"static/media/Mengis_Books_Logo.ca3c1854.png"},43:function(e,t,n){e.exports=n(72)},48:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(37),c=n.n(o),i=(n(48),n(18)),l=n(3),u=n(8),s=n(9),m=n(11),f=n(10),p=n(5),v=n(6);function d(){var e=Object(p.a)([""]);return d=function(){return e},e}function h(){var e=Object(p.a)([""]);return h=function(){return e},e}function b(){var e=Object(p.a)([""]);return b=function(){return e},e}var k=v.a.div.attrs({className:"collpase navbar-collapse"})(b()),g=v.a.div.attrs({className:"navbar-nav mr-auto"})(h()),O=v.a.div.attrs({className:"collpase navbar-collapse"})(d()),j=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{to:"/books/list",className:"navbar-brand"},"Joseph Mengis' Book List"),r.a.createElement(k,null,r.a.createElement(g,null,r.a.createElement(O,null,r.a.createElement(i.b,{to:"/books/list",className:"nav-link"},"My Books")),r.a.createElement(O,null,r.a.createElement(i.b,{to:"/books/search",className:"nav-link"},"Search Book")))))}}]),n}(a.Component),E=n(41),w=n.n(E);function y(){var e=Object(p.a)([""]);return y=function(){return e},e}var B=v.a.a.attrs({className:"navbar-brand"})(y()),x=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(B,{href:"https://sambarros.com"},r.a.createElement("a",{href:"/books/search"},r.a.createElement("img",{src:w.a,width:"50",height:"50",alt:"sambarros.com"})))}}]),n}(a.Component);function I(){var e=Object(p.a)(["\n    margin-bottom: 20 px;\n"]);return I=function(){return e},e}function C(){var e=Object(p.a)([""]);return C=function(){return e},e}var S=v.a.div.attrs({className:"container"})(C()),L=v.a.nav.attrs({className:"navbar navbar-expand-lg navbar-light bg-white"})(I()),N=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(S,null,r.a.createElement(L,null,r.a.createElement(x,null),r.a.createElement(j,null)))}}]),n}(a.Component),D=n(14),_=n.n(D),A=n(17),U=n(42),H=n(24),M=n.n(H),R=M.a.create({baseURL:"http://localhost:3000/api"}),T={insertBook:function(e){return R.post("/book",e)},getAllBooks:function(){return R.get("/books")},updateBookById:function(e,t){return R.put("/book/".concat(e),t)},deleteBookById:function(e){return R.delete("/book/".concat(e))},getBookById:function(e){return R.get("/book/".concat(e))},bookSearch:function(e){return M.a.get("https://www.googleapis.com/books/v1/volumes?q="+e)}};n(36);function J(){var e=Object(p.a)(["\n    color: #ff0000;\n    cursor: pointer;\n"]);return J=function(){return e},e}function P(){var e=Object(p.a)(["\n    padding: 0 40px 40px 40px;\n"]);return P=function(){return e},e}var z=v.a.div(P()),W=v.a.div(J()),q=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).deleteUser=function(t){t.preventDefault(),window.confirm("Do tou want to delete the book ".concat(e.props.id," permanently?"))&&(T.deleteBookById(e.props.id),window.location.reload())},e}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(W,{onClick:this.deleteUser},"Delete")}}]),n}(a.Component),F=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).componentDidMount=Object(A.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isLoading:!0}),e.next=3,T.getAllBooks().then((function(e){a.setState({books:e.data.data,isLoading:!1})}));case 3:case"end":return e.stop()}}),e)}))),a.state={books:[],columns:[],isLoading:!1},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state,t=e.books,n=e.isLoading;console.log("TCL: BooksList -> render -> books",t);var a=[{Header:"Cover",Cell:function(e){return r.a.createElement("div",null,r.a.createElement("img",{src:e.original.imageURL,alt:"fresh out bud",width:"50",height:"50"}))}},{Header:"Title",accessor:"title",filterable:!0},{Header:"Author",accessor:"author",filterable:!0},{Header:"Description",accessor:"description",filterable:!0},{Header:"Press to Delete from list",accessor:"",Cell:function(e){return r.a.createElement("span",null,r.a.createElement(q,{id:e.original._id}))}}],o=!0;return t.length||(o=!1),r.a.createElement(z,null,o&&r.a.createElement(U.a,{data:t,columns:a,loading:n,defaultPageSize:10,showPageSizeOptions:!0,minRows:0}))}}]),n}(a.Component);function $(){var e=Object(p.a)(["\n    margin: 15px 15px 15px 5px;\n"]);return $=function(){return e},e}function G(){var e=Object(p.a)(["\n    margin: 5px;\n"]);return G=function(){return e},e}function K(){var e=Object(p.a)(["\n    margin: 5px;\n"]);return K=function(){return e},e}function Q(){var e=Object(p.a)(["\n    margin: 0 30px;\n"]);return Q=function(){return e},e}function V(){var e=Object(p.a)([""]);return V=function(){return e},e}var X=v.a.h1.attrs({className:"h1"})(V()),Y=v.a.div.attrs({className:"form-group"})(Q()),Z=v.a.label(K()),ee=v.a.input.attrs({className:"form-control"})(G()),te=v.a.button.attrs({className:"btn btn-primary"})($()),ne=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleChangeInputTitle=function(){var e=Object(A.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.setState({title:n}),T.bookSearch(n).then((function(e){console.log(e.data.items),a.setState({books:e.data.items})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChangeInputAuthor=function(){var e=Object(A.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.validity.valid?t.target.value:a.state.authors,a.setState({authors:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChangeInputDescription=function(){var e=Object(A.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.setState({description:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleIncludeBook=Object(A.a)(_.a.mark((function e(){var t,n,r,o,c,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.title,r=t.authors,o=t.description,c=o.split("/"),i={title:n,authors:r,description:c},e.next=5,T.insertBook(i).then((function(e){window.alert("Book inserted successfully"),a.setState({title:"",authors:"",description:""})}));case 5:case"end":return e.stop()}}),e)}))),a.saveBook=function(e){var t,n,r=a.state.books.find((function(t){return t.id===e}));T.insertBook({title:r.volumeInfo.title,description:r.volumeInfo.description,link:r.volumeInfo.link,imageURL:null===(t=r.volumeInfo)||void 0===t||null===(n=t.imageLinks)||void 0===n?void 0:n.thumbnail,author:r.volumeInfo.authors})},a.state={title:"",imageURL:null,authors:"",description:"",books:[]},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.title,a=t.books;return console.log("Searched books",a),r.a.createElement(Y,null,r.a.createElement(X,null,"Search Books"),r.a.createElement(Z,null,"Enter a Title or Author: "),r.a.createElement(ee,{type:"text",value:n,onChange:this.handleChangeInputTitle}),a.map((function(t){var n,a;return r.a.createElement("div",{key:t.id},r.a.createElement("img",{src:null===(n=t.volumeInfo)||void 0===n||null===(a=n.imageLinks)||void 0===a?void 0:a.thumbnail,alt:"thank you"}),r.a.createElement("br",null),r.a.createElement("a",{href:t.volumeInfo.infoLink},t.volumeInfo.title),r.a.createElement("p",null,t.volumeInfo.authors),r.a.createElement("p",null,t.volumeInfo.description),r.a.createElement(te,{onClick:function(){return e.saveBook(t.id)}},"Save"))})))}}]),n}(a.Component),ae=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"In this page you'll see the form to update the Books"))}}]),n}(a.Component);n(71);var re=function(){return r.a.createElement(i.a,null,r.a.createElement(N,null),r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/books/list",exact:!0,component:F}),r.a.createElement(l.a,{path:"/books/search",exact:!0,component:ne}),r.a.createElement(l.a,{path:"/books/update/:id",exact:!0,component:ae})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.f34cccd9.chunk.js.map